<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stackly ‚Äì Online Pharmacy & Baby Care</title>
  <meta name="description" content="Professional pharmacy e‚Äëcommerce with dynamic pages (home, shop, product, cart, about). Pure HTML/CSS/JS." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Crect rx='24' width='128' height='128' fill='%230ea5e9'/%3E%3Cpath d='M33 64h62M64 33v62' stroke='white' stroke-width='16' stroke-linecap='round'/%3E%3C/svg%3E"/>
  	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- <link href="./animation.html"> -->
  <style>
    :root{
      --bg:#f6f9ff; --card:#ffffff; --ink:#0f172a; --muted:#6b807d; --line:#e5e7eb;
      --brand:#0ea5e9; --brand-2:#60a5fa; --accent:#16a34a; --warn:#ef4444;
      --radius:18px; h3{color: white;} h2{color: black;}
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family: 'Segoe UI', sans-serif; color:var(--ink); background:var(--bg)}
    a{color:inherit; text-decoration:none}
    .container{max-width:1180px; margin-inline:auto; padding:0 24px}

    /* Topbar */
    .topbar{background:#0b1220; color:#cbd5e1; font-size:13px}
    .topbar .inner{display:flex; gap:16px; align-items:center; justify-content:space-between; padding:10px 0}
    .topbar .links{display:flex; gap:14px; flex-wrap:wrap}

      /* Header */
  /* header.site {
    position: sticky;
    top: 0;
    z-index: 40;
    backdrop-filter: saturate(180%) blur(10px);
    background: rgba(255, 255, 255, .9);
    border-bottom: 1px solid var(--line);
  } */

  .header-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    padding: 12px 20px;
  }

/* .logo img {
  margin: 0;          
  max-height: 50px;   
  width: auto;        
  display: block;     
} */

  .nav {
    display: flex;
    gap: 20px;
    font-weight: 600;
  }

  .nav a {
    padding: 8px 12px;
    border-radius: 8px;
    transition: 0.3s;
    margin-top: 10px;
    margin-left: 10px;
  }

  /* .nav a:hover {
    background: #f1f5f9;
  }

  .nav a.active {
    background: #e0f2fe;
    color: #0369a1;
  } */

  .search {
    flex: 1;
    max-width: 350px;
    display: flex;
    gap: 8px;
    margin-right: 50px;
    margin-top: 10px;
  }

  .search input {
    flex: 1;
    padding: 10px 14px;
    border-radius: 10px;
    border: 1px solid var(--line);
    background: var(--card);
  }

  .btn {
    padding: 10px 14px;
    border-radius: 10px;
    border: 1px solid var(--line);
    cursor: pointer;
  }

  .btn.primary {
    background: var(--brand);
    color: #fff;
  }

  .btn.secondary {
    background: #fff;
  }

  .icon-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    border: 1px solid var(--line);
    background: #fff;
    padding: 8px 12px;
    border-radius: 10px;
    cursor: pointer;
    position: relative;
    margin-top: 10px;
    margin-right: 50px;
  }

  .badge {
    position: absolute;
    top: -6px;
    right: -6px;
    background: var(--accent);
    color: #fff;
    font-size: 12px;
    padding: 2px 6px;
    border-radius: 999px;
  }

  /* Responsive */
  @media (max-width: 900px) {
    .header-inner {
      flex-wrap: wrap;
      justify-content: center;
    }
    .search {
      order: 3;
      flex: 1 1 100%;
      max-width: 100%;
    }
  }
    /* Hero */
    .hero{background:radial-gradient(1200px 600px at 20% -20%, #bae6fd 0%, transparent 55%), linear-gradient(180deg,#eff6ff, #fff 60%); border-bottom:1px solid var(--line)}
    .hero .inner{display:grid; grid-template-columns:1.2fr 1fr; gap:24px; padding:28px 0}
    .hero h1{font-size:clamp(28px,4vw,46px); margin:0 0 10px}
    .hero p{color:var(--muted); margin:0 0 18px}
    .hero .pill{display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border:1px dashed var(--brand); border-radius:999px; color:#0369a1; background:#e0f2fe}
    /* .hero .banner{aspect-ratio:4/3; border-radius:var(--radius); border:1px solid var(--line); background:linear-gradient(160deg,#93c5fd,#67e8f9); display:grid; place-items:center} */

    /* Homepage Blocks */
    .home-cards{display:grid; grid-template-columns:repeat(4,1fr); gap:16px; margin:18px 0 8px}
    .tile{background:var(--card); border:1px solid var(--line); border-radius:16px; overflow:hidden}
    .tile .img{height:120px; display:grid; place-items:center; background:#f1f5f9}
    .tile h4{margin:10px 12px}

    .section{padding:18px 0}
    .section h3{margin:0 0 12px}

    /* Product Grid / Cards */
    .grid{display:grid; grid-template-columns:repeat(4,1fr); gap:16px}
    @media (max-width:1024px){.grid{grid-template-columns:repeat(3,1fr)} .hero .inner{grid-template-columns:1fr}}
    @media (max-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:480px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card); border:1px solid var(--line); border-radius:16px; overflow:hidden; display:flex; flex-direction:column}
    .thumb{aspect-ratio:4/3; background:linear-gradient(135deg,#eef2ff,#ecfeff); display:grid; place-items:center}
    .content{padding:12px}
    .title{font-weight:700; margin:0 0 4px}
    .meta{font-size:14px; color:var(--muted); display:flex; align-items:center; gap:8px}
    .price{margin-top:8px; font-weight:800}
    .actions{margin-top:auto; padding:12px; display:flex; gap:8px}
    .qty{display:flex; align-items:center; gap:8px}
    .qty button{width:28px; height:28px; border-radius:8px; border:1px solid var(--line); background:#fff; cursor:pointer}
    .add{flex:1; border-radius:12px; border:1px solid var(--line); background:#0b1220; color:#fff; padding:10px; cursor:pointer}

    /* Views */
    main{min-height:60vh}
    .view{display:none}
    .view.active{display:block}

    /* Drawer / Modal */
    dialog{border:none; border-radius:16px; padding:0; width:min(96vw,720px)}
    .sheet{position:fixed; inset:0; display:none}
    .sheet.open{display:grid}
    .backdrop{position:absolute; inset:0; background:rgba(2,6,23,.5)}
    .panel{position:relative; margin-left:auto; width:min(96vw,420px); height:100vh; background:#fff; display:flex; flex-direction:column; border-left:1px solid var(--line)}
    .panel header{position:sticky; top:0; background:#fff; border-bottom:1px solid var(--line)}
    .panel header .titlebar{padding:12px 16px; display:flex; align-items:center; gap:8px; justify-content:space-between}
    .panel .body{padding:12px; overflow:auto}
    .panel footer{padding:12px; border-top:1px solid var(--line)}

    /* Footer */
    footer.site{margin-top:32px; border-top:1px solid var(--line); background: #0D2543}
    footer .inner{display:grid; grid-template-columns:2fr 1fr 1fr; gap:20px; padding:24px}
    @media (max-width:720px){footer .inner{grid-template-columns:1fr}}

    .muted{color:var(--muted)}
    .disclaimer{font-size:12px; color:var(--muted)}
    .toast{position:fixed; bottom:16px; left:50%; transform:translateX(-50%); background:#111827; color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,.2); display:none}
    .toast.show{display:block}

.go-home-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: linear-gradient(135deg, #ffe5d9, #cce7ff); /* peach-blue theme */
  color: #333;
  padding: 12px 20px;
  border-radius: 50px;
  font-weight: bold;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  transition: all 0.3s ease;
  z-index: 1000;
}

.go-home-btn:hover {
  background: linear-gradient(135deg, #ffd4c2, #b3daff);
  transform: translateY(-3px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.25);
}

/* Arrow animation */
.go-home-btn .arrow {
  display: inline-block;
  transition: transform 0.3s ease-in-out;
}

.go-home-btn:hover .arrow {
  transform: translateX(6px);
}

/* -------------------------
   Go Home Button (Reverse Arrow)
------------------------- */
.go-home-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 10px 18px;
  background: #3498db;
  color: #fff;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: background 0.3s ease;
}

.go-home-btn:hover {
  background: #2980b9;
}

.go-home-btn .arrow {
  display: inline-block;
  transition: transform 0.3s ease;
}

.go-home-btn:hover .arrow {
  transform: translateX(-6px); /* reverse animation */
}
  </style>
</head>
<body>
  <!-- Top bar -->
  <div class="topbar">
    <div class="inner container">
      <div class="links">üìç Madurai, Tamilnadu-625107 ‚Ä¢ ‚è∞ Mon‚ÄìSun 8:00am‚Äì10:00pm</div>
      <div class="links">‚òéÔ∏è +91 44485 88497 ‚Ä¢ ‚úâÔ∏è support@stackly.com</div>
    </div>
  </div>

<!-- Header -->
<header class="site">
  <div class="container header-inner">
    <nav class="nav" id="mainNav">
    <div class="logo">
      <img src="./stacklylogo.png" alt="Stackly Logo" width="170" height="50">
    </div>
      <a href="" data-route class="active">Home</a>
      <a href="#/shop" data-route>Shop</a>
      <a href="#/about" data-route>About</a>
      <a href="#/news" data-route>News</a>
    </nav>
    <form class="search" id="searchForm" role="search">
      <input type="search" id="searchInput" placeholder="Search medicines, vitamins, baby care‚Ä¶" />
      <button class="btn secondary" onclick="window.location.href='404.html'" type="submit">Search</button>
    </form>
    <button class="icon-btn" id="openCart" aria-haspopup="dialog" aria-controls="cartSheet" onclick="window.location.href='404.html'">
      <span class="badge" id="cartCount">0</span>
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M6 6h15l-1.5 9h-12z" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="9" cy="20" r="1.5" fill="currentColor"/>
        <circle cx="18" cy="20" r="1.5" fill="currentColor"/>
      </svg>
      Cart
    </button>
  </div>
</header>

  <!-- Views -->
  <main class="container">
    <!-- HOME -->
    <section id="view-home" class="view active">
      <div class="hero">
        <div class="container inner">
          <div>
            <span class="pill">‚ÄúThe greatest medicine of all is teaching people how not to need it.‚Äù</span>
            <h1>For All of Your <span style="color:#0369a1">Medical Needs</span></h1>
            <p>One‚Äëstop online shop for OTC medicines, vitamins, baby care, and wellness products. Fast delivery and secure checkout.</p>
            <div style="display:flex; gap:10px; flex-wrap:wrap">
              <!-- <a class="btn primary" href="#/shop">Shop Now</a> -->
              <a class="btn primary" onclick="window.location.href='404.html'">Shop Now</a>
              <!-- <a class="btn" href="#/about">Who We Are</a> -->
              <a class="btn" onclick="window.location.href='404.html'">Who We Are</a>
            </div>
            <p class="disclaimer" style="margin-top:10px">Demo only. Add legal/medical compliance before going live.</p>
              </div>
            
         
          <!-- <div class="banner" aria-hidden="true"> -->
            <img src="./pexels-pixabay-159211.jpg" alt="medicine" width="490" height="360">
          <!-- </div> -->
           <!-- <iframe src="./vecteezy_medicine-bottle-and-a-few-pills-and-capsules-animation-with_22399958.mp4" height="200" width="200" frameborder="0" scrolling="no" ></iframe> -->
        </div>
      </div>

      <div class="section">
        <h2>One‚ÄëStop Shop for Your Medical Needs</h2>
        <div class="home-cards" id="homeCats"></div>
      </div>

      <div class="section">
        <h2>From Our Shop ‚Ä¢ Latest Products</h2>
        <div class="grid" id="homeLatest"></div>
      </div>
    </section>

    <!-- SHOP (list + filters) -->
    <section id="view-shop" class="view">
      <div class="section" style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap">
        <div class="nav" style="gap:8px">
          <button class="btn" data-cat="all">All</button>
          <button class="btn" data-cat="medicine">Tablets & Syrups</button>
          <button class="btn" data-cat="wellness">Supplements</button>
          <button class="btn" data-cat="baby">Baby Care</button>
        </div>
        <div style="display:flex; gap:8px; align-items:center">
          <label class="muted" for="sortSelect">Sort</label>
          <select id="sortSelect">
            <option value="relevant">Most relevant</option>
            <option value="priceAsc">Price: Low to High</option>
            <option value="priceDesc">Price: High to Low</option>
            <option value="rating">Top rated</option>
          </select>
          <label class="muted" style="display:flex; align-items:center; gap:6px"><input type="checkbox" id="onlyInStock"/> In stock only</label>
        </div>
      </div>
      <div class="grid" id="shopGrid" aria-live="polite"></div>
    </section>

    <!-- PRODUCT (detail) -->
    <section id="view-product" class="view">
      <div id="productDetail"></div>
    </section>

    <!-- CART (page view, drawer also exists) -->
    <section id="view-cart" class="view">
      <h3>Your Cart</h3>
      <div id="cartPage"></div>
    </section>

    <!-- ABOUT / NEWS -->
    <section id="view-about" class="view">
      <h3>About</h3>
      <p class="muted">Medicines<br>

      We provide a wide range of trusted medicines from top pharmaceutical brands. Whether you need tablets, capsules, or injections, our products are sourced from certified pharmacies to ensure quality, safety, and affordability. With doorstep delivery, you can stay healthy without the hassle of visiting stores.</p>
        <p class="muted">Baby Products<br>Caring for your little one is our top priority. Our baby care collection includes diapers, wipes, skincare, baby food, and wellness essentials. All products are dermatologically tested, safe, and gentle for your baby‚Äôs delicate skin. Choose from leading baby brands with complete peace of mind.</p>
        <p class="muted">Healthy Syrups & Supplements<br>Boost your immunity and energy with our range of healthy syrups, tonics, and dietary supplements. From multivitamins to natural herbal syrups, we bring you products that support overall health, digestion, and immunity. Every item is checked for authenticity and quality before it reaches you.</p>
      <ul>
        <li>Licensed sellers only</li>
        <li>Cold‚Äëchain packaging available</li>
        <li>Delivery free over ‚Çπ499</li>
      </ul>
    </section>

    <section id="view-news" class="view">
      <h3>Health & Pharmacy News</h3>
      <p class="muted">The field of medicine is continuously bringing inspiring progress that is improving the lives of millions around the world. <br>In recent years, doctors and researchers have achieved remarkable breakthroughs in treating chronic and life-threatening diseases. <br>For example, personalized medicine now allows treatments to be tailored to each individual‚Äôs genetic makeup, making cures more effective and with fewer side effects.<br>

Another uplifting development is the rise of advanced vaccines and preventive care. <br>Vaccines are now protecting not only against infectious diseases but also showing promise in preventing certain cancers and strengthening immunity in vulnerable groups. <br>Meanwhile, technology such as artificial intelligence, robotics, and telemedicine is transforming healthcare, enabling patients to receive quicker diagnoses, better surgical precision, and even remote consultations from the comfort of their homes.

<br>Medicine is also making strong strides in mental health care, with new therapies, digital apps, and awareness programs helping people overcome stress, anxiety, and depression. <br>In addition, regenerative medicine and stem cell research are opening doors to healing damaged organs, offering new hope for conditions once thought untreatable.

<br>These positive steps show that modern medicine is not just about curing illness‚Äîit‚Äôs about creating healthier, longer, and more fulfilling lives. <br>Every new discovery, every successful treatment, and every saved life is proof that the future of healthcare is brighter than ever. üåøüíô</p>
    </section>
  </main>

  <!-- Cart Drawer -->
  <div class="sheet" id="cartSheet" role="dialog" aria-modal="true" aria-label="Shopping cart">
    <div class="backdrop" data-close></div>
    <aside class="panel" role="document">
      <header>
        <div class="titlebar">
          <strong>Shopping Cart</strong>
          <button class="icon-btn" data-close aria-label="Close cart">‚úï</button>
        </div>
      </header>
      <div class="body" id="cartItems"></div>
      <footer>
        <div class="row"><span class="muted">Subtotal</span><strong id="subtotal">‚Çπ0</strong></div>
        <div class="row"><span class="muted">Delivery</span><span id="delivery">Free over ‚Çπ499</span></div>
        <div class="line"></div>
        <button class="btn primary" id="checkoutBtn">Checkout</button>
      </footer>
    </aside>
  </div>

  <!-- Checkout Modal -->
  <dialog id="checkoutDialog" aria-label="Checkout form">
    <form method="dialog" id="checkoutForm" style="padding:16px 16px 8px">
      <header style="display:flex; justify-content:space-between; align-items:center; gap:8px; padding:4px 2px 12px; border-bottom:1px solid var(--line)">
        <h3 style="margin:0">Secure Checkout</h3>
        <button class="icon-btn" value="cancel" aria-label="Close">‚úï</button>
      </header>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px">
        <label>Full name<input required name="name" placeholder="Your name"/></label>
        <label>Phone<input required name="phone" placeholder="10-digit phone" pattern="[0-9]{10}"/></label>
        <label style="grid-column:1/-1">Email<input required type="email" name="email" placeholder="you@email.com"/></label>
        <label style="grid-column:1/-1">Address<textarea required name="address" placeholder="House no, street, city, pincode" rows="3"></textarea></label>
      </div>
      <p class="disclaimer">Prescription medicines require a valid prescription at delivery. This demo does not process payments.</p>
      <div style="display:flex; gap:8px; justify-content:flex-end; border-top:1px solid var(--line); padding-top:12px; margin-top:12px">
        <button class="btn" value="cancel">Cancel</button>
        <button class="btn primary" id="placeOrderBtn" value="default">Place order</button>
      </div>
    </form>
  </dialog>

<!-- Go Home Button -->
<a href="../13-08-25/index.html" class="go-home-btn">
  <span class="arrow">‚¨Ö</span>
  <span>Go Home 1</span>
</a>

  <footer class="site">
    <div class="inner container">
      <div>
        <h3>Stackly Care</h3>
        <p class="muted">Affordable health & baby essentials. 24√ó7 support.</p>
      </div>
      <div>
        <h3>Links</h3>
        <ul style="list-style:none; padding:0; margin:6px 0 0; display:grid; gap:6px">
          <li><a href="#/about" class="muted">About</a></li>
          <li><a href="#/news" class="muted">News</a></li>
          <li><a href="#/home" class="muted">Privacy</a></li>
        </ul>
      </div>
      <div>
        <h3>Contact</h3>
        <ul style="list-style:none; padding:0; margin:6px 0 0; display:grid; gap:6px">
          <li class="muted">Email: support@stackly.com</li>
          <li class="muted">Phone: +91 90000 00000</li>
        </ul>
      </div>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite">Added to cart</div>

  <script>
    /** DATA **/
    const CATS = [
      {key:'medicine', name:'Tablets & Capsules'},
      {key:'wellness', name:'Mixtures & Syrups'},
      {key:'supp', name:'Dietary Supplements', mapTo:'wellness'},
      {key:'inject', name:'Injections & Drops', mapTo:'medicine'},
      {key:'equip', name:'Equipment', mapTo:'wellness'},
      {key:'mask', name:'Face Masks', mapTo:'wellness'},
      {key:'skin', name:'Skin Care', mapTo:'wellness'},
      {key:'vit', name:'Vitamins', mapTo:'wellness'},
    ];

    const PRODUCTS = [
      {id:'med1', name:'Paracetamol 500mg (10 tablets)', cat:'medicine', price:29, mrp:35, rating:4.7, stock:36, desc:'Pain & fever reducer. Read label before use.', img:'pill'},
      {id:'med2', name:'Cough Syrup 100ml', cat:'wellness', price:89, mrp:99, rating:4.3, stock:18, desc:'Soothing relief for dry cough.', img:'bottle'},
      {id:'med3', name:'Antacid Tablets (20)', cat:'medicine', price:75, mrp:89, rating:4.4, stock:0, desc:'For acidity & indigestion.', img:'pill'},
      {id:'med4', name:'ORS Powder (Pack of 5)', cat:'wellness', price:65, mrp:80, rating:4.6, stock:22, desc:'Rehydration salts. WHO formula.', img:'sachet'},
      {id:'baby1', name:'Baby Diapers Size M (40 pcs)', cat:'baby', price:499, mrp:549, rating:4.5, stock:15, desc:'12‚Äëhr absorption, soft & breathable.', img:'diaper'},
      {id:'baby2', name:'Baby Lotion 200ml', cat:'baby', price:199, mrp:220, rating:4.2, stock:42, desc:'Gentle moisture for delicate skin.', img:'bottle'},
      {id:'baby3', name:'Feeding Bottle 250ml', cat:'baby', price:259, mrp:299, rating:4.1, stock:8, desc:'BPA‚Äëfree with anti‚Äëcolic vent.', img:'bottle2'},
      {id:'well1', name:'Digital Thermometer', cat:'wellness', price:189, mrp:249, rating:4.8, stock:33, desc:'Fast 10s read with memory.', img:'gadget'},
      {id:'well2', name:'First Aid Kit', cat:'wellness', price:349, mrp:399, rating:4.4, stock:11, desc:'Compact kit for home & travel.', img:'kit'},
      {id:'well3', name:'Hand Sanitizer 500ml', cat:'wellness', price:149, mrp:179, rating:4.0, stock:54, desc:'70% alcohol quick dry gel.', img:'bottle'},
    ];

    /** STATE **/
    const state = { q:'', cat:'all', sort:'relevant', inStock:false, view:'home',
      cart: JSON.parse(localStorage.getItem('qwerycare.cart')||'{}') };

    const Rs = n => `‚Çπ${n.toLocaleString('en-IN')}`;
    const saveCart = () => localStorage.setItem('qwerycare.cart', JSON.stringify(state.cart));
    const cartCount = () => Object.values(state.cart).reduce((a,b)=>a+b,0);
    const subtotal = () => Object.entries(state.cart).reduce((sum,[id,qty])=>{ const p = PRODUCTS.find(x=>x.id===id); return sum + (p ? p.price*qty : 0); },0);

    /** ICONS **/
    function icon(type){
      const base = `<svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">`;
      const close = `</svg>`;
      const paths = {
        pill:`<rect x="3" y="9" width="18" height="6" rx="3"/><path d="M12 9v6"/>`,
        bottle:`<path d="M10 2h4v3a2 2 0 0 1-2 2 2 2 0 0 0-2 2v10a3 3 0 0 0 3 3h1a3 3 0 0 0 3-3V9a2 2 0 0 0-2-2 2 2 0 0 1-2-2V2z"/>`,
        bottle2:`<path d="M8 7h8v12a3 3 0 0 1-3 3H11a3 3 0 0 1-3-3V7zm2-3h4v3h-4V4z"/>`,
        sachet:`<rect x="6" y="4" width="12" height="16" rx="2"/><path d="M6 8h12"/>`,
        diaper:`<path d="M4 4h16v5a8 8 0 0 1-8 8 8 8 0 0 1-8-8V4zm2 0s0 6 6 6 6-6 6-6"/>`,
        gadget:`<rect x="5" y="3" width="14" height="18" rx="2"/><circle cx="12" cy="18" r="1"/>`,
        kit:`<rect x="3" y="7" width="18" height="12" rx="3"/><path d="M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2M12 11v4M10 13h4"/>`
      };
      return base + (paths[type]||paths['kit']) + close;
    }

    /** RENDERERS **/
    const homeCats = document.getElementById('homeCats');
    const homeLatest = document.getElementById('homeLatest');

    function renderHome(){
      // Category tiles
      homeCats.innerHTML = ['Equipment','Face Masks','Skin Care','Vitamin Pills'].map((t,i)=>{
        const imgs=['gadget','bottle','kit','pill'];
        return `<div class="tile"><div class="img">${icon(imgs[i])}</div><h4>${t}</h4></div>`
      }).join('');
      // Latest products
      const latest = [...PRODUCTS].slice(0,8);
      homeLatest.innerHTML = latest.map(cardHTML).join('');
      latest.forEach(p=> bindCardHandlers(p.id));
    }

    function cardHTML(p){
      const qty = state.cart[p.id]||0;
      return `
      <article class="card">
        <div class="thumb" onclick="goTo('#/product/${p.id}')" role="button" title="View ${p.name}">${icon(p.img)}</div>
        <div class="content">
          <h4 class="title">${p.name}</h4>
          <div class="meta">‚≠ê ${p.rating} ‚Ä¢ ${p.stock>0? 'In stock' : '<span style=\'color:var(--warn)\'>Out of stock</span>'}</div>
          <div class="price">${Rs(p.price)} <span class="muted" style="text-decoration:line-through; font-weight:500; margin-left:6px">${Rs(p.mrp)}</span></div>
        </div>
        <div class="actions">
          <div class="qty">
            <button id="dec-${p.id}">‚àí</button>
            <span>${qty}</span>
            <button id="inc-${p.id}">+</button>
          </div>
          <button onclick="window.location.href='404.html'" class="add" id="add-${p.id}" ${p.stock===0? 'disabled':''}>Add</button>
        </div>
      </article>`;
    }

    function bindCardHandlers(id){
      const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
      const add = document.getElementById(`add-${id}`);
      const dec = document.getElementById(`dec-${id}`);
      const inc = document.getElementById(`inc-${id}`);
      add && add.addEventListener('click',()=> addToCart(id));
      dec && dec.addEventListener('click',()=> changeQty(id,-1));
      inc && inc.addEventListener('click',()=> changeQty(id,1));
    }

    // Shop view
    const shopGrid = document.getElementById('shopGrid');
    function renderShop(){
      let list = PRODUCTS.filter(p=>{
        const qOk = !state.q || p.name.toLowerCase().includes(state.q.toLowerCase());
        const cOk = state.cat==='all' || p.cat===state.cat; const sOk = !state.inStock || p.stock>0; return qOk && cOk && sOk;
      });
      if(state.sort==='priceAsc') list.sort((a,b)=>a.price-b.price);
      if(state.sort==='priceDesc') list.sort((a,b)=>b.price-a.price);
      if(state.sort==='rating') list.sort((a,b)=>b.rating-a.rating);
      shopGrid.innerHTML = list.map(cardHTML).join('') || `<p class="muted">No products found.</p>`;
      list.forEach(p=> bindCardHandlers(p.id));
    }

    // Product detail view
    const productDetail = document.getElementById('productDetail');
    function renderProduct(id){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p){ productDetail.innerHTML = `<p class='muted'>Product not found.</p>`; return; }
      const qty = state.cart[id]||0;
      productDetail.innerHTML = `
        <div class="tile" style="display:grid; grid-template-columns:1fr 1.3fr; gap:16px; padding:12px">
          <div class="img" style="height:280px">${icon(p.img)}</div>
          <div style="padding:6px 10px 10px">
            <h2 style="margin:4px 0">${p.name}</h2>
            <div class="meta">‚≠ê ${p.rating} ‚Ä¢ ${p.stock>0? 'In stock' : '<span style=\'color:var(--warn)\'>Out of stock</span>'}</div>
            <p class="muted">${p.desc}</p>
            <div style="display:flex; align-items:center; gap:12px; margin:10px 0">
              <strong style="font-size:20px">${Rs(p.price)}</strong>
              <span class="muted" style="text-decoration:line-through">${Rs(p.mrp)}</span>
            </div>
            <div style="display:flex; gap:8px">
              <div class="qty">
                <button onclick="changeQty('${id}',-1)">‚àí</button>
                <span>${qty}</span>
                <button onclick="changeQty('${id}',1)">+</button>
              </div>
              <button class="btn primary" onclick="addToCart('${id}')" ${p.stock===0? 'disabled':''}>Add to cart</button>
              <button class="btn" onclick="openCart()">View cart</button>
            </div>
          </div>
        </div>`;
    }

    // Cart page
    const cartPage = document.getElementById('cartPage');
    function renderCartPage(){
      const entries = Object.entries(state.cart);
      if(entries.length===0){ cartPage.innerHTML = `<p class='muted'>Your cart is empty.</p>`; return; }
      cartPage.innerHTML = entries.map(([id,qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        return `<div class='tile' style='display:grid; grid-template-columns:auto 1fr auto; gap:10px; padding:10px; align-items:center; margin-bottom:10px'>
          <div class='img' style='width:70px; height:70px'>${icon(p.img)}</div>
          <div><strong>${p.name}</strong><div class='muted'>${qty} √ó ${Rs(p.price)}</div></div>
          <div style='text-align:right'>
            <div><strong>${Rs(p.price*qty)}</strong></div>
            <div class='qty' style='justify-content:flex-end'>
              <button onclick="changeQty('${id}',-1)">‚àí</button>
              <span>${qty}</span>
              <button onclick="changeQty('${id}',1)">+</button>
            </div>
          </div>
        </div>`;
      }).join('') + `<div style='display:flex; justify-content:space-between; align-items:center; margin-top:12px'><strong>Subtotal</strong><strong>${Rs(subtotal())}</strong></div>
      <div style='margin-top:10px; display:flex; gap:8px; justify-content:flex-end'><a class='btn' href='#/shop'>Continue shopping</a><button class='btn primary' onclick='openCart()'>Checkout</button></div>`;
    }

    /** CART (drawer) **/
    const cartSheet = document.getElementById('cartSheet');
    const cartItems = document.getElementById('cartItems');
    const cartCountEl = document.getElementById('cartCount');
    const subtotalEl = document.getElementById('subtotal');

    function openCart(){ cartSheet.classList.add('open'); document.body.style.overflow='hidden'; renderCartDrawer(); }
    function closeCart(){ cartSheet.classList.remove('open'); document.body.style.overflow=''; }

    function addToCart(id){ const p = PRODUCTS.find(x=>x.id===id); if(!p || p.stock===0) return; state.cart[id]=(state.cart[id]||0)+1; saveCart(); updateHeader(); showToast('Added to cart'); refreshActiveView(); }
    function changeQty(id,delta){ const cur=state.cart[id]||0; const next=Math.max(0,cur+delta); if(next===0) delete state.cart[id]; else state.cart[id]=next; saveCart(); updateHeader(); refreshActiveView(); if(cartSheet.classList.contains('open')) renderCartDrawer(); }

    function renderCartDrawer(){
      const entries = Object.entries(state.cart);
      if(entries.length===0){ cartItems.innerHTML = `<p class='muted'>Your cart is empty.</p>`; }
      else {
        cartItems.innerHTML = entries.map(([id,qty])=>{ const p = PRODUCTS.find(x=>x.id===id); return `
          <div style='display:grid; grid-template-columns:auto 1fr auto; gap:10px; align-items:center; padding:8px; border:1px solid var(--line); border-radius:12px; margin-bottom:10px'>
            <div style='width:56px; height:56px; border-radius:10px; background:#f1f5f9; display:grid; place-items:center'>${icon(p.img)}</div>
            <div><div style='font-weight:700'>${p.name}</div><div class='muted'>${qty} √ó ${Rs(p.price)}</div></div>
            <div style='display:grid; gap:6px; justify-items:end'>
              <strong>${Rs(p.price*qty)}</strong>
              <div class='qty'>
                <button onclick="changeQty('${id}',-1)">‚àí</button>
                <span>${qty}</span>
                <button onclick="changeQty('${id}',1)">+</button>
              </div>
            </div>
          </div>`; }).join('');
      }
      subtotalEl.textContent = Rs(subtotal());
    }

    document.getElementById('openCart').addEventListener('click', openCart);
    document.querySelectorAll('[data-close]').forEach(el=> el.addEventListener('click', closeCart));

    document.getElementById('checkoutBtn').addEventListener('click', ()=>{ if(Object.keys(state.cart).length===0) return showToast('Your cart is empty'); document.getElementById('checkoutDialog').showModal(); });
    document.getElementById('checkoutForm').addEventListener('submit', e=>{ e.preventDefault(); const form=e.target; if(!form.reportValidity()) return; const data=Object.fromEntries(new FormData(form).entries()); showToast(`Order placed! Thank you, ${data.name}.`); form.reset(); state.cart={}; saveCart(); updateHeader(); refreshActiveView(); renderCartDrawer(); document.getElementById('checkoutDialog').close(); closeCart(); });

    /** SEARCH + FILTERS (shop) **/
    document.getElementById('searchForm').addEventListener('submit', e=>{ e.preventDefault(); state.q = document.getElementById('searchInput').value; if(state.view!=='shop') goTo('#/shop'); else renderShop(); });
    document.getElementById('sortSelect').addEventListener('change', e=>{ state.sort=e.target.value; renderShop(); });
    document.getElementById('onlyInStock').addEventListener('change', e=>{ state.inStock=e.target.checked; renderShop(); });
    document.querySelector('#view-shop .section .nav').addEventListener('click', e=>{ if(e.target.matches('[data-cat]')){ state.cat=e.target.dataset.cat; renderShop(); } });

    /** ROUTER **/
    const VIEWS = {
      home: document.getElementById('view-home'),
      shop: document.getElementById('view-shop'),
      product: document.getElementById('view-product'),
      cart: document.getElementById('view-cart'),
      about: document.getElementById('view-about'),
      news: document.getElementById('view-news'),
    };

    function goTo(hash){ location.hash = hash; }
    function setActiveNav(){ document.querySelectorAll('.nav a[data-route]').forEach(a=>{ const p=a.getAttribute('href').slice(2); a.classList.toggle('active', state.view===p); }); }
    function showView(key){ Object.values(VIEWS).forEach(v=> v.classList.remove('active')); VIEWS[key]?.classList.add('active'); setActiveNav(); }

    function parseHash(){
      const h = location.hash.slice(2) || 'home'; // format: /view or /product/id
      const [view, id] = h.split('/');
      state.view = view; showView(view);
      if(view==='home') renderHome();
      if(view==='shop') renderShop();
      if(view==='product') renderProduct(id);
      if(view==='cart') renderCartPage();
      if(view==='about'||view==='news') {/* static */}
    }

    window.addEventListener('hashchange', parseHash);

    /** UTILS **/
    const toast = document.getElementById('toast');
    let toastTimer; function showToast(msg){ toast.textContent = msg; toast.classList.add('show'); clearTimeout(toastTimer); toastTimer = setTimeout(()=> toast.classList.remove('show'), 1600); }
    function updateHeader(){ document.getElementById('cartCount').textContent = cartCount(); }
    function refreshActiveView(){ if(state.view==='home') renderHome(); if(state.view==='shop') renderShop(); if(state.view==='product'){ const id=location.hash.split('/')[2]; renderProduct(id);} if(state.view==='cart') renderCartPage(); }

    // Init
    updateHeader();
    parseHash();
  </script>
  <script src="./script.js"></script>
</body>
</html>
